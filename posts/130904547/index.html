<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>一篇就够了——宝塔安装nextcloud以及一系列的软件（ocdownload，onlyoffice）安装,以及会遇到的一系列问题（持续更新） | 木哈文轩</title>
<meta name="keywords" content="nextcloud, download">
<meta name="description" content="文章浏览阅读2.2k次。宝塔是一款用于 Linux 服务器管理的开源面板软件，其提供了网站管理、数据库管理、FTP管理、SSL证书申请等功能，可以方便地进行服务器管理和网站运营。它支持多语言界面，易于安装和使用，受到了广大开发者和网站管理员的喜爱。尽管宝塔相比于其他一些方式建站占用的空间和cpu资源会比较大但是其简单的部署方式和一体化的管理十分方便后续管理和拓展Nextcloud是一种开源的云存储平台，它可以让你在自己的服务器上存储、同步和分享文件、日历、联系人等信息。_nextcloud download">
<meta name="author" content="木木Em哈哈 Csdn认证博客专家 Csdn认证企业博客 码龄3年 Python领域新星创作者">
<link rel="canonical" href="https://0ha.top/posts/130904547/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.1f32c844f2d5be7933a69a506945f44f4c61e4a145b9ab585974513f8cf24f81.css" integrity="sha256-HzLIRPLVvnkzpppQaUX0T0xh5KFFuatYWXRRP4zyT4E=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://0ha.top/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://0ha.top/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://0ha.top/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://0ha.top/apple-touch-icon.png">
<link rel="mask-icon" href="https://0ha.top/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://0ha.top/posts/130904547/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="一篇就够了——宝塔安装nextcloud以及一系列的软件（ocdownload，onlyoffice）安装,以及会遇到的一系列问题（持续更新）" />
<meta property="og:description" content="文章浏览阅读2.2k次。宝塔是一款用于 Linux 服务器管理的开源面板软件，其提供了网站管理、数据库管理、FTP管理、SSL证书申请等功能，可以方便地进行服务器管理和网站运营。它支持多语言界面，易于安装和使用，受到了广大开发者和网站管理员的喜爱。尽管宝塔相比于其他一些方式建站占用的空间和cpu资源会比较大但是其简单的部署方式和一体化的管理十分方便后续管理和拓展Nextcloud是一种开源的云存储平台，它可以让你在自己的服务器上存储、同步和分享文件、日历、联系人等信息。_nextcloud download" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://0ha.top/posts/130904547/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-30T13:17:52+00:00" />
<meta property="article:modified_time" content="2023-05-30T13:17:52+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="一篇就够了——宝塔安装nextcloud以及一系列的软件（ocdownload，onlyoffice）安装,以及会遇到的一系列问题（持续更新）"/>
<meta name="twitter:description" content="文章浏览阅读2.2k次。宝塔是一款用于 Linux 服务器管理的开源面板软件，其提供了网站管理、数据库管理、FTP管理、SSL证书申请等功能，可以方便地进行服务器管理和网站运营。它支持多语言界面，易于安装和使用，受到了广大开发者和网站管理员的喜爱。尽管宝塔相比于其他一些方式建站占用的空间和cpu资源会比较大但是其简单的部署方式和一体化的管理十分方便后续管理和拓展Nextcloud是一种开源的云存储平台，它可以让你在自己的服务器上存储、同步和分享文件、日历、联系人等信息。_nextcloud download"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://0ha.top/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "一篇就够了——宝塔安装nextcloud以及一系列的软件（ocdownload，onlyoffice）安装,以及会遇到的一系列问题（持续更新）",
      "item": "https://0ha.top/posts/130904547/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "一篇就够了——宝塔安装nextcloud以及一系列的软件（ocdownload，onlyoffice）安装,以及会遇到的一系列问题（持续更新）",
  "name": "一篇就够了——宝塔安装nextcloud以及一系列的软件（ocdownload，onlyoffice）安装,以及会遇到的一系列问题（持续更新）",
  "description": "文章浏览阅读2.2k次。宝塔是一款用于 Linux 服务器管理的开源面板软件，其提供了网站管理、数据库管理、FTP管理、SSL证书申请等功能，可以方便地进行服务器管理和网站运营。它支持多语言界面，易于安装和使用，受到了广大开发者和网站管理员的喜爱。尽管宝塔相比于其他一些方式建站占用的空间和cpu资源会比较大但是其简单的部署方式和一体化的管理十分方便后续管理和拓展Nextcloud是一种开源的云存储平台，它可以让你在自己的服务器上存储、同步和分享文件、日历、联系人等信息。_nextcloud download",
  "keywords": [
    "nextcloud", "download"
  ],
  "articleBody": "目录\n前言\n什么是宝塔\n什么是nextcloud\n为什么不用docker来安装nextcloud\n下载\n版本选择和下载链接\n小提示\n安装\n选择数据库\n下载ocdown\n配置aira2c\n安装onlyoffice\n插件安装\n目前出现的问题（持续更新）\n无法删除和移动文件\n特别感谢\n前言 什么是宝塔 宝塔是一款用于 Linux 服务器管理的开源面板软件，其提供了网站管理、数据库管理、FTP管理、SSL证书申请等功能，可以方便地进行服务器管理和网站运营。它支持多语言界面，易于安装和使用，受到了广大开发者和网站管理员的喜爱。\n尽管宝塔相比于其他一些方式建站占用的空间和cpu资源会比较大\n但是其简单的部署方式和一体化的管理十分方便后续管理和拓展\n什么是nextcloud Nextcloud是一种开源的云存储平台，它可以让你在自己的服务器上存储、同步和分享文件、日历、联系人等信息。它提供了类似于Google Drive和Dropbox的功能，但你完全掌控你自己的数据。你可以在你的服务器上安装Nextcloud，或者使用Nextcloud提供的托管服务。\n宝塔下载完成现在可以搭建一个自己的网盘\n为什么不用docker来安装nextcloud 之前用过可道云的云盘，那个桌面和文档流畅度确实好用不过内网上传速度10m/s下载速度40m/s,而且上传文件时的cpu占用率特别特别高。\n（2023年5月30日更新！！！）博主搞清楚原因了，现在如果使用的人不超过10个，比较推荐可道云，安装好后参考下面教程\n可道云优化下载速度和性能教程 https://blog.csdn.net/mumuemhaha/article/details/130956982?spm=1001.2014.3001.5502 ;\nnextcloud可以用docker来部署，但是docker中部署的话如果要用到数据库会比较麻烦，之前废了好大的劲部署好结果一个重启直接干废了，网站直接报错。就放弃了\n相反宝塔可以非常方便的部署数据库和管理数据库（不过好像docker部署的nextcloud本地上传速度有40m/s，而宝塔部署的只有20m/s不到的速度，不知道是不是宝塔限制了网速反正我调了但还是比较满）\n下载 版本选择和下载链接 首先下载好网站文件下载链接\n选择一个版本，不要太新了，不然安装的插件可能会报错，也不要太老了，原因同上。\n然后就是一样安装网站的步骤，下载上传解压，然后最后设置端口和域名。\n需要注意的是不同版本的nextcloud需要的php可能不会一样不过问题不大，下载发现出错。就下载相应的php版本然后记得调回相应的php就行\n小提示 记得把防跨站攻击关了，以防报错\n安装 这里没有图片借用一下这个博主的图片 乐乐呀168\n（侵删）\n选择数据库 如果要多用户使用的话还是强烈推荐选择MYSQL的数据库\n但是如果单独几个人使用的话差别也不是很大\n有人会觉得那这样的话docker和宝塔部署不就一样了？docker还会更方便。\n但是docker管理文件会比较麻烦尤其是云盘类文件管理会比较简单\n数据库的账号密码就输之前创建的\n下载ocdown 然后就是下载插件\n搜索ocdownload\n然后下载【现在还是用不了了需要配置】\n配置aira2c 打开登录ssh下载（这里是debian其他的类推）\napt-get install aria2 创建配置文件目录并且赋予权限\nmkdir /etc/aria2 chmod 777 /etc/aria2 创建配置文件\ntouch /etc/aria2/aria2.conf touch /etc/aria2/aria2.session chmod 777 /etc/aria2/aria2.conf nano /etc/aria2/aria2.conf 复制黏贴就行\n#用户名 #rpc-user=user #密码 #rpc-passwd=passwd #上面的认证方式不建议使用,建议使用下面的token方式 #设置加密的密钥 #rpc-secret=token #允许rpc enable-rpc=true #允许所有来源, web界面跨域权限需要 rpc-allow-origin-all=true #允许外部访问，false的话只监听本地端口 rpc-listen-all=true #RPC端口, 仅当默认端口被占用时修改 rpc-listen-port=6800 #最大同时下载数(任务数), 路由建议值: 3 max-concurrent-downloads=1000 #断点续传 continue=true #同服务器连接数 max-connection-per-server=5 #最小文件分片大小, 下载线程数上限取决于能分出多少片, 对于小文件重要 min-split-size=10M #单文件最大线程数, 路由建议值: 5 split=10 #从会话文件中读取下载任务 input-file=/etc/aria2/aria2.session #在Aria2退出时保存错误的、未完成的下载任务到会话文件 save-session=/etc/aria2/aria2.session #定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0 save-session-interval=60 #下载速度限制 max-overall-download-limit=0 #单文件速度限制 max-download-limit=0 #上传速度限制 max-overall-upload-limit=0 #单文件速度限制 max-upload-limit=0 #断开速度过慢的连接 #lowest-speed-limit=0 #验证用，需要1.16.1之后的release版本 #referer=* #文件保存路径, 默认为当前启动位置 dir=/data/downloads #文件缓存, 使用内置的文件缓存, 如果你不相信Linux内核文件缓存和磁盘内置缓存时使用 #disk-cache=0 #另一种Linux文件缓存方式 #enable-mmap=true #文件预分配, 能有效降低文件碎片, 提高磁盘性能. 缺点是预分配时间较长 file-allocation=prealloc #最小做种时间, 分钟 seed-time=30 #bt服务器设置 #bt-tracker= 以\"www\"用户启动\nsudo -u www aria2c --conf-path=/etc/aria2/aria2.conf -D 创建自启动文件\ntouch /lib/systemd/system/aria2.service nano /lib/systemd/system/aria2.service 老规矩，复制黏贴\n[Unit] Description=Aria2c download manager Requires=network.target After=dhcpcd.service [Service] Type=forking User=root RemainAfterExit=yes ExecStart=/usr/bin/aria2c --conf-path=/etc/aria2/aria2.conf --daemon ExecReload=/usr/bin/kill -HUP $MAINPID RestartSec=1min Restart=on-failure [Install] WantedBy=multi-user.target 设置aria2服务开机自启动\nsystemctl enable aria2 systemctl start aria2 然后添加下载任务就可以了\n安装onlyoffice 插件安装 首先还是安装ocdownload的方法安装onlyoffice\n一如既往的还是用不了（恼）\n因为你自己还要部署一个本地的docker服务器来访问（还是逃不过docker（悲））\n博客上的一些教程是安装老版本的onlyoffice，而新版onlyoffice新加了令牌机制导致每次重启令牌都会变，都要重新输入命令查看令牌很麻烦\n但是可以在创建容器时固定密码\nsudo docker run -i -t -d -p 8044:80 --restart=always --name onlyoffice --env JWT_SECRET=123456 onlyoffice/documentserver 确保8044端口时开放的如果要改就把8044:80的8044改为你想要的端口，其中的JWT_SECRET=123456中的123456代表的是你的密码\n然后打开设置\n下滑找到onlyoffice\n这里如果你只是本地访问服务器的话那就填写你的\"本地ip:8044\"密码就写\"123456\"\n最后打开文档就会加载成功\n（没有可道云的文档编辑好用，也没有他的流畅【迫真.jpg】）\n目前出现的问题（持续更新） 无法删除和移动文件 删除文件 “【酷漫V3】蜘蛛侠3.英雄无归.Spider-Man.No.Way.Home.2021.HD1080P.IMAX.h265.10bit.AAC.English.CHS-ENG.mp4” 时出错\n原因是ocdownload下载的文件的权限是root的，\nwww用户只允许下载，不允许删除和移动\n特别感谢 参考文章\n参考文章_1\n参考文章_2\n",
  "wordCount" : "232",
  "inLanguage": "en",
  "datePublished": "2023-05-30T13:17:52Z",
  "dateModified": "2023-05-30T13:17:52Z",
  "author":{
    "@type": "Person",
    "name": "木木Em哈哈 Csdn认证博客专家 Csdn认证企业博客 码龄3年 Python领域新星创作者"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://0ha.top/posts/130904547/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "木哈文轩",
    "logo": {
      "@type": "ImageObject",
      "url": "https://0ha.top/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://0ha.top/" accesskey="h" title="木哈文轩 (Alt + H)">木哈文轩</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://0ha.top/search" title="🔍搜索">
                    <span>🔍搜索</span>
                </a>
            </li>
            <li>
                <a href="https://0ha.top/" title="🏠主页">
                    <span>🏠主页</span>
                </a>
            </li>
            <li>
                <a href="https://0ha.top/posts" title="📚文章">
                    <span>📚文章</span>
                </a>
            </li>
            <li>
                <a href="https://0ha.top/archives/" title="⏱时间轴">
                    <span>⏱时间轴</span>
                </a>
            </li>
            <li>
                <a href="https://0ha.top/tags" title="🔖标签">
                    <span>🔖标签</span>
                </a>
            </li>
            <li>
                <a href="https://0ha.top/about" title="🙋🏻‍♂️关于">
                    <span>🙋🏻‍♂️关于</span>
                </a>
            </li>
            <li>
                <a href="https://0ha.top/links" title="🤝友链">
                    <span>🤝友链</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://0ha.top/">Home</a>&nbsp;»&nbsp;<a href="https://0ha.top/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      一篇就够了——宝塔安装nextcloud以及一系列的软件（ocdownload，onlyoffice）安装,以及会遇到的一系列问题（持续更新）
    </h1>
    <div class="post-description">
      文章浏览阅读2.2k次。宝塔是一款用于 Linux 服务器管理的开源面板软件，其提供了网站管理、数据库管理、FTP管理、SSL证书申请等功能，可以方便地进行服务器管理和网站运营。它支持多语言界面，易于安装和使用，受到了广大开发者和网站管理员的喜爱。尽管宝塔相比于其他一些方式建站占用的空间和cpu资源会比较大但是其简单的部署方式和一体化的管理十分方便后续管理和拓展Nextcloud是一种开源的云存储平台，它可以让你在自己的服务器上存储、同步和分享文件、日历、联系人等信息。_nextcloud download
    </div>
    <div class="post-meta"><span title='2023-05-30 13:17:52 +0000 UTC'>2023-05-30</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;木木Em哈哈 Csdn认证博客专家 Csdn认证企业博客 码龄3年 Python领域新星创作者

</div>

    
    <div style="display: flex; justify-content: center;">
      
  </div>

  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e5%89%8d%e8%a8%80" aria-label="前言">前言</a><ul>
                        
                <li>
                    <a href="#%e4%bb%80%e4%b9%88%e6%98%af%e5%ae%9d%e5%a1%94" aria-label="什么是宝塔">什么是宝塔</a></li>
                <li>
                    <a href="#%e4%bb%80%e4%b9%88%e6%98%afnextcloud" aria-label="什么是nextcloud">什么是nextcloud</a></li>
                <li>
                    <a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e4%b8%8d%e7%94%a8docker%e6%9d%a5%e5%ae%89%e8%a3%85nextcloud" aria-label="为什么不用docker来安装nextcloud">为什么不用docker来安装nextcloud</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%8b%e8%bd%bd" aria-label="下载">下载</a><ul>
                        
                <li>
                    <a href="#%e7%89%88%e6%9c%ac%e9%80%89%e6%8b%a9%e5%92%8c%e4%b8%8b%e8%bd%bd%e9%93%be%e6%8e%a5" aria-label="版本选择和下载链接">版本选择和下载链接</a></li>
                <li>
                    <a href="#%e5%b0%8f%e6%8f%90%e7%a4%ba" aria-label="小提示">小提示</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85" aria-label="安装">安装</a><ul>
                        
                <li>
                    <a href="#%e9%80%89%e6%8b%a9%e6%95%b0%e6%8d%ae%e5%ba%93" aria-label="选择数据库">选择数据库</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%8b%e8%bd%bdocdown" aria-label="下载ocdown">下载ocdown</a></li>
                <li>
                    <a href="#%e9%85%8d%e7%bd%aeaira2c" aria-label="配置aira2c">配置aira2c</a></li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85onlyoffice" aria-label="安装onlyoffice">安装onlyoffice</a><ul>
                        
                <li>
                    <a href="#%e6%8f%92%e4%bb%b6%e5%ae%89%e8%a3%85" aria-label="插件安装">插件安装</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%9b%ae%e5%89%8d%e5%87%ba%e7%8e%b0%e7%9a%84%e9%97%ae%e9%a2%98%e6%8c%81%e7%bb%ad%e6%9b%b4%e6%96%b0" aria-label="目前出现的问题（持续更新）">目前出现的问题（持续更新）</a><ul>
                        
                <li>
                    <a href="#%e6%97%a0%e6%b3%95%e5%88%a0%e9%99%a4%e5%92%8c%e7%a7%bb%e5%8a%a8%e6%96%87%e4%bb%b6" aria-label="无法删除和移动文件">无法删除和移动文件</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%89%b9%e5%88%ab%e6%84%9f%e8%b0%a2" aria-label="特别感谢">特别感谢</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p><strong>目录</strong></p>
<p><a href="#%e5%89%8d%e8%a8%80">前言</a></p>
<p><a href="#%e4%bb%80%e4%b9%88%e6%98%af%e5%ae%9d%e5%a1%94">什么是宝塔</a></p>
<p><a href="#%e4%bb%80%e4%b9%88%e6%98%afnextcloud">什么是nextcloud</a></p>
<p><a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e4%b8%8d%e7%94%a8docker%e6%9d%a5%e5%ae%89%e8%a3%85nextcloud">为什么不用docker来安装nextcloud</a></p>
<p><a href="#%e4%b8%8b%e8%bd%bd">下载</a></p>
<p><a href="#%e7%89%88%e6%9c%ac%e9%80%89%e6%8b%a9%e5%92%8c%e4%b8%8b%e8%bd%bd%e9%93%be%e6%8e%a5">版本选择和下载链接</a></p>
<p><a href="#%e5%b0%8f%e6%8f%90%e7%a4%ba">小提示</a></p>
<p><a href="#%c2%a0%e5%ae%89%e8%a3%85">安装</a></p>
<p><a href="#%e9%80%89%e6%8b%a9%e6%95%b0%e6%8d%ae%e5%ba%93">选择数据库</a></p>
<p><a href="#%e4%b8%8b%e8%bd%bdocdown">下载ocdown</a></p>
<p><a href="#%e9%85%8d%e7%bd%aeaira2c">配置aira2c</a></p>
<p><a href="#%e5%ae%89%e8%a3%85onlyoffice">安装onlyoffice</a></p>
<p><a href="#%e6%8f%92%e4%bb%b6%e5%ae%89%e8%a3%85">插件安装</a></p>
<p><a href="#%e7%9b%ae%e5%89%8d%e5%87%ba%e7%8e%b0%e7%9a%84%e9%97%ae%e9%a2%98%ef%bc%88%e6%8c%81%e7%bb%ad%e6%9b%b4%e6%96%b0%ef%bc%89">目前出现的问题（持续更新）</a></p>
<p><a href="#%e6%97%a0%e6%b3%95%e5%88%a0%e9%99%a4%e5%92%8c%e7%a7%bb%e5%8a%a8%e6%96%87%e4%bb%b6">无法删除和移动文件</a></p>
<p><a href="#%e7%89%b9%e5%88%ab%e6%84%9f%e8%b0%a2">特别感谢</a></p>
<h2 id="前言">前言<a hidden class="anchor" aria-hidden="true" href="#前言">#</a></h2>
<h3 id="什么是宝塔">什么是宝塔<a hidden class="anchor" aria-hidden="true" href="#什么是宝塔">#</a></h3>
<blockquote>
<p>宝塔是一款用于 Linux 服务器管理的开源面板软件，其提供了网站管理、数据库管理、FTP管理、SSL证书申请等功能，可以方便地进行服务器管理和网站运营。它支持多语言界面，易于安装和使用，受到了广大开发者和网站管理员的喜爱。</p>
</blockquote>
<p>尽管宝塔相比于其他一些方式建站占用的空间和cpu资源会比较大</p>
<p>但是其简单的部署方式和一体化的管理十分方便后续管理和拓展</p>
<h3 id="什么是nextcloud">什么是nextcloud<a hidden class="anchor" aria-hidden="true" href="#什么是nextcloud">#</a></h3>
<blockquote>
<p>Nextcloud是一种开源的云存储平台，它可以让你在自己的服务器上存储、同步和分享文件、日历、联系人等信息。它提供了类似于Google Drive和Dropbox的功能，但你完全掌控你自己的数据。你可以在你的服务器上安装Nextcloud，或者使用Nextcloud提供的托管服务。</p>
</blockquote>
<p>宝塔下载完成现在可以搭建一个自己的网盘</p>
<h3 id="为什么不用docker来安装nextcloud">为什么不用docker来安装nextcloud<a hidden class="anchor" aria-hidden="true" href="#为什么不用docker来安装nextcloud">#</a></h3>
<p>之前用过可道云的云盘，那个桌面和文档流畅度确实好用不过内网上传速度10m/s下载速度40m/s,而且上传文件时的cpu占用率特别特别高。</p>
<p><strong>（2023年5月30日更新！！！）博主搞清楚原因了，现在如果使用的人不超过10个，比较推荐可道云，安装好后参考下面教程</strong></p>
<p><a href="https://blog.csdn.net/mumuemhaha/article/details/130956982?spm=1001.2014.3001.5502" title="可道云优化下载速度和性能教程">可道云优化下载速度和性能教程<img loading="lazy" src="https://csdnimg.cn/release/blog_editor_html/release2.3.0/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=N4P3" alt=""  />
https://blog.csdn.net/mumuemhaha/article/details/130956982?spm=1001.2014.3001.5502 ;</a></p>
<p>nextcloud可以用docker来部署，但是docker中部署的话如果要用到数据库会比较麻烦，之前废了好大的劲部署好结果一个重启直接干废了，网站直接报错。就放弃了</p>
<p>相反宝塔可以非常方便的部署数据库和管理数据库（不过好像docker部署的nextcloud本地上传速度有40m/s，而宝塔部署的只有20m/s不到的速度，不知道是不是宝塔限制了网速反正我调了但还是比较满）</p>
<h2 id="下载">下载<a hidden class="anchor" aria-hidden="true" href="#下载">#</a></h2>
<h3 id="版本选择和下载链接">版本选择和下载链接<a hidden class="anchor" aria-hidden="true" href="#版本选择和下载链接">#</a></h3>
<p>首先下载好网站文件<a href="https://download.nextcloud.com/server/releases/" title="下载链接">下载链接</a></p>
<p>选择一个版本，不要太新了，不然安装的插件可能会报错，也不要太老了，原因同上。</p>
<p>然后就是一样安装网站的步骤，下载上传解压，然后最后设置端口和域名。</p>
<p>需要注意的是不同版本的nextcloud需要的php可能不会一样不过问题不大，下载发现出错。就下载相应的php版本然后记得调回相应的php就行</p>
<p><img loading="lazy" src="https://:0ha.top/img/959fc4d9076241b19d29698719966960.png" alt=""  />
</p>
<h3 id="小提示">小提示<a hidden class="anchor" aria-hidden="true" href="#小提示">#</a></h3>
<p>记得把防跨站攻击关了，以防报错</p>
<p><img loading="lazy" src="https://:0ha.top/img/9467114e80d54fc597ecbfecd7d6ad05.png" alt=""  />
</p>
<h2 id="安装">安装<a hidden class="anchor" aria-hidden="true" href="#安装">#</a></h2>
<p>这里没有图片借用一下这个博主的图片 <a href="https://blog.csdn.net/qq_43009710/article/details/105038413?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168518440616800186546108%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=168518440616800186546108&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-3-105038413-null-null.142%5Ev88%5Econtrol,239%5Ev2%5Einsert_chatgpt&amp;utm_term=nextcloud%E5%AE%9D%E5%A1%94&amp;spm=1018.2226.3001.4187" title="乐乐呀168">乐乐呀168</a></p>
<p>（侵删）</p>
<p><img loading="lazy" src="https://:0ha.top/img/c9eb9b919e254380b7e8801d465160c9.png" alt=""  />
</p>
<h3 id="选择数据库">选择数据库<a hidden class="anchor" aria-hidden="true" href="#选择数据库">#</a></h3>
<p>如果要多用户使用的话还是强烈推荐选择MYSQL的数据库</p>
<p>但是如果单独几个人使用的话差别也不是很大</p>
<p>有人会觉得那这样的话docker和宝塔部署不就一样了？docker还会更方便。</p>
<p>但是docker管理文件会比较麻烦尤其是云盘类文件管理会比较简单</p>
<p>数据库的账号密码就输之前创建的</p>
<h2 id="下载ocdown">下载ocdown<a hidden class="anchor" aria-hidden="true" href="#下载ocdown">#</a></h2>
<p>然后就是下载插件</p>
<p><img loading="lazy" src="https://:0ha.top/img/ec03b5d2944f4aeba6e2a0e8216fc12e.png" alt=""  />
</p>
<p>搜索ocdownload</p>
<p><img loading="lazy" src="https://:0ha.top/img/130d04d4b00e48b2bd369cfc11c1e369.png" alt=""  />
</p>
<p>然后下载【现在还是用不了了需要配置】</p>
<h2 id="配置aira2c">配置aira2c<a hidden class="anchor" aria-hidden="true" href="#配置aira2c">#</a></h2>
<p>打开登录ssh下载（这里是debian其他的类推）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>apt-get install aria2
</span></span></code></pre></div><p>创建配置文件目录并且赋予权限</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir /etc/aria2
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>chmod <span style="color:#ae81ff">777</span> /etc/aria2
</span></span></code></pre></div><p>创建配置文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>touch /etc/aria2/aria2.conf
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>touch /etc/aria2/aria2.session
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>chmod <span style="color:#ae81ff">777</span> /etc/aria2/aria2.conf
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nano /etc/aria2/aria2.conf
</span></span></code></pre></div><p>复制黏贴就行</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#用户名</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#rpc-user=user</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#密码</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#rpc-passwd=passwd</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#上面的认证方式不建议使用,建议使用下面的token方式</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#设置加密的密钥</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#rpc-secret=token</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#允许rpc</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>enable-rpc<span style="color:#f92672">=</span>true
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#允许所有来源, web界面跨域权限需要</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>rpc-allow-origin-all<span style="color:#f92672">=</span>true
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#允许外部访问，false的话只监听本地端口</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>rpc-listen-all<span style="color:#f92672">=</span>true
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#RPC端口, 仅当默认端口被占用时修改</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>rpc-listen-port<span style="color:#f92672">=</span><span style="color:#ae81ff">6800</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#最大同时下载数(任务数), 路由建议值: 3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>max-concurrent-downloads<span style="color:#f92672">=</span><span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#断点续传</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">continue</span><span style="color:#f92672">=</span>true
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#同服务器连接数</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>max-connection-per-server<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#最小文件分片大小, 下载线程数上限取决于能分出多少片, 对于小文件重要</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>min-split-size<span style="color:#f92672">=</span>10M
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#单文件最大线程数, 路由建议值: 5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>split<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#从会话文件中读取下载任务</span>
</span></span><span style="display:flex;"><span>input-file<span style="color:#f92672">=</span>/etc/aria2/aria2.session
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#在Aria2退出时保存错误的、未完成的下载任务到会话文件</span>
</span></span><span style="display:flex;"><span>save-session<span style="color:#f92672">=</span>/etc/aria2/aria2.session
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#定时保存会话, 0为退出时才保存, 需1.16.1以上版本, 默认:0</span>
</span></span><span style="display:flex;"><span>save-session-interval<span style="color:#f92672">=</span><span style="color:#ae81ff">60</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#下载速度限制</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>max-overall-download-limit<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#单文件速度限制</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>max-download-limit<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#上传速度限制</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>max-overall-upload-limit<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#单文件速度限制</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>max-upload-limit<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#断开速度过慢的连接</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#lowest-speed-limit=0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#验证用，需要1.16.1之后的release版本</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#referer=*</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#文件保存路径, 默认为当前启动位置</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dir<span style="color:#f92672">=</span>/data/downloads
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#文件缓存, 使用内置的文件缓存, 如果你不相信Linux内核文件缓存和磁盘内置缓存时使用</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#disk-cache=0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#另一种Linux文件缓存方式</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#enable-mmap=true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#文件预分配, 能有效降低文件碎片, 提高磁盘性能. 缺点是预分配时间较长</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>file-allocation<span style="color:#f92672">=</span>prealloc
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#最小做种时间, 分钟</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>seed-time<span style="color:#f92672">=</span><span style="color:#ae81ff">30</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#bt服务器设置</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#bt-tracker=</span>
</span></span></code></pre></div><p>以&quot;www&quot;用户启动</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo -u www aria2c --conf-path<span style="color:#f92672">=</span>/etc/aria2/aria2.conf -D
</span></span></code></pre></div><p>创建自启动文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>touch /lib/systemd/system/aria2.service
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nano /lib/systemd/system/aria2.service
</span></span></code></pre></div><p>老规矩，复制黏贴</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>Unit<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Description<span style="color:#f92672">=</span>Aria2c download manager
</span></span><span style="display:flex;"><span>Requires<span style="color:#f92672">=</span>network.target
</span></span><span style="display:flex;"><span>After<span style="color:#f92672">=</span>dhcpcd.service
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Service<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Type<span style="color:#f92672">=</span>forking
</span></span><span style="display:flex;"><span>User<span style="color:#f92672">=</span>root
</span></span><span style="display:flex;"><span>RemainAfterExit<span style="color:#f92672">=</span>yes
</span></span><span style="display:flex;"><span>ExecStart<span style="color:#f92672">=</span>/usr/bin/aria2c --conf-path<span style="color:#f92672">=</span>/etc/aria2/aria2.conf --daemon
</span></span><span style="display:flex;"><span>ExecReload<span style="color:#f92672">=</span>/usr/bin/kill -HUP $MAINPID
</span></span><span style="display:flex;"><span>RestartSec<span style="color:#f92672">=</span>1min
</span></span><span style="display:flex;"><span>Restart<span style="color:#f92672">=</span>on-failure
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Install<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>WantedBy<span style="color:#f92672">=</span>multi-user.target
</span></span></code></pre></div><p>设置aria2服务开机自启动</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>systemctl enable aria2
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>systemctl start aria2
</span></span></code></pre></div><p>然后添加下载任务就可以了</p>
<h2 id="安装onlyoffice">安装onlyoffice<a hidden class="anchor" aria-hidden="true" href="#安装onlyoffice">#</a></h2>
<h3 id="插件安装">插件安装<a hidden class="anchor" aria-hidden="true" href="#插件安装">#</a></h3>
<p>首先还是安装ocdownload的方法安装onlyoffice</p>
<p>一如既往的还是用不了（恼）</p>
<p>因为你自己还要部署一个本地的docker服务器来访问（还是逃不过docker（悲））</p>
<p>博客上的一些教程是安装老版本的onlyoffice，而新版onlyoffice新加了令牌机制导致每次重启令牌都会变，都要重新输入命令查看令牌很麻烦</p>
<p>但是可以在创建容器时固定密码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo docker run -i -t -d -p 8044:80 --restart<span style="color:#f92672">=</span>always --name onlyoffice --env JWT_SECRET<span style="color:#f92672">=</span><span style="color:#ae81ff">123456</span> onlyoffice/documentserver
</span></span></code></pre></div><blockquote>
<p>确保8044端口时开放的如果要改就把8044:80的8044改为你想要的端口，其中的JWT_SECRET=123456中的123456代表的是你的密码</p>
</blockquote>
<p>然后打开设置</p>
<p><img loading="lazy" src="https://:0ha.top/img/2e5fa97160a2407a9d57876da6c47d9d.png" alt=""  />
</p>
<p>下滑找到onlyoffice</p>
<p><img loading="lazy" src="https://:0ha.top/img/ad89cfc488b54e848f1b671e15ad3da5.png" alt=""  />
</p>
<blockquote>
<p>这里如果你只是本地访问服务器的话那就填写你的&quot;本地ip:8044&quot;密码就写&quot;123456&quot;</p>
</blockquote>
<p>最后打开文档就会加载成功</p>
<p>（没有可道云的文档编辑好用，也没有他的流畅【迫真.jpg】）</p>
<h2 id="目前出现的问题持续更新">目前出现的问题（持续更新）<a hidden class="anchor" aria-hidden="true" href="#目前出现的问题持续更新">#</a></h2>
<h3 id="无法删除和移动文件">无法删除和移动文件<a hidden class="anchor" aria-hidden="true" href="#无法删除和移动文件">#</a></h3>
<p><img loading="lazy" src="https://:0ha.top/img/1c48656aa500436096f207ebcac791ce.png" alt=""  />
</p>
<blockquote>
<p>删除文件 &ldquo;【酷漫V3】蜘蛛侠3.英雄无归.Spider-Man.No.Way.Home.2021.HD1080P.IMAX.h265.10bit.AAC.English.CHS-ENG.mp4&rdquo; 时出错</p>
</blockquote>
<p>原因是ocdownload下载的文件的权限是root的，</p>
<p>www用户只允许下载，不允许删除和移动</p>
<p><img loading="lazy" src="https://:0ha.top/img/d0617031733c475ebc636794e129c612.png" alt=""  />
</p>
<h2 id="特别感谢">特别感谢<a hidden class="anchor" aria-hidden="true" href="#特别感谢">#</a></h2>
<p><a href="https://blog.csdn.net/zhouqi621/article/details/123974625" title="参考文章">参考文章</a></p>
<p><a href="https://blog.csdn.net/qq_43009710/article/details/105038413?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168518440616800186546108%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=168518440616800186546108&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-3-105038413-null-null.142%5Ev88%5Econtrol,239%5Ev2%5Einsert_chatgpt&amp;utm_term=nextcloud%E5%AE%9D%E5%A1%94&amp;spm=1018.2226.3001.4187" title="参考文章_1">参考文章_1</a></p>
<p><a href="https://blog.csdn.net/u011901825/article/details/127734273?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=%E4%B8%BA%20OnlyOffice%20%E8%AE%BE%E7%BD%AE%E5%AF%86%E9%92%A5&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-3-127734273.142%5Ev88%5Econtrol,239%5Ev2%5Einsert_chatgpt&amp;spm=1018.2226.3001.4187" title="参考文章_2">参考文章_2</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="prev" href="https://0ha.top/posts/130999472/">
    <span class="title">« Prev</span>
    <br>
    <span>（win10)yolov5训练自己的数据集</span>
  </a>
  <a class="next" href="https://0ha.top/posts/130956982/">
    <span class="title">Next »</span>
    <br>
    <span>可道云修改配置优化上传下载速度</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 一篇就够了——宝塔安装nextcloud以及一系列的软件（ocdownload，onlyoffice）安装,以及会遇到的一系列问题（持续更新） on x"
            href="https://x.com/intent/tweet/?text=%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86%e2%80%94%e2%80%94%e5%ae%9d%e5%a1%94%e5%ae%89%e8%a3%85nextcloud%e4%bb%a5%e5%8f%8a%e4%b8%80%e7%b3%bb%e5%88%97%e7%9a%84%e8%bd%af%e4%bb%b6%ef%bc%88ocdownload%ef%bc%8conlyoffice%ef%bc%89%e5%ae%89%e8%a3%85%2c%e4%bb%a5%e5%8f%8a%e4%bc%9a%e9%81%87%e5%88%b0%e7%9a%84%e4%b8%80%e7%b3%bb%e5%88%97%e9%97%ae%e9%a2%98%ef%bc%88%e6%8c%81%e7%bb%ad%e6%9b%b4%e6%96%b0%ef%bc%89&amp;url=https%3a%2f%2f0ha.top%2fposts%2f130904547%2f&amp;hashtags=">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 一篇就够了——宝塔安装nextcloud以及一系列的软件（ocdownload，onlyoffice）安装,以及会遇到的一系列问题（持续更新） on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2f0ha.top%2fposts%2f130904547%2f&amp;title=%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86%e2%80%94%e2%80%94%e5%ae%9d%e5%a1%94%e5%ae%89%e8%a3%85nextcloud%e4%bb%a5%e5%8f%8a%e4%b8%80%e7%b3%bb%e5%88%97%e7%9a%84%e8%bd%af%e4%bb%b6%ef%bc%88ocdownload%ef%bc%8conlyoffice%ef%bc%89%e5%ae%89%e8%a3%85%2c%e4%bb%a5%e5%8f%8a%e4%bc%9a%e9%81%87%e5%88%b0%e7%9a%84%e4%b8%80%e7%b3%bb%e5%88%97%e9%97%ae%e9%a2%98%ef%bc%88%e6%8c%81%e7%bb%ad%e6%9b%b4%e6%96%b0%ef%bc%89&amp;summary=%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86%e2%80%94%e2%80%94%e5%ae%9d%e5%a1%94%e5%ae%89%e8%a3%85nextcloud%e4%bb%a5%e5%8f%8a%e4%b8%80%e7%b3%bb%e5%88%97%e7%9a%84%e8%bd%af%e4%bb%b6%ef%bc%88ocdownload%ef%bc%8conlyoffice%ef%bc%89%e5%ae%89%e8%a3%85%2c%e4%bb%a5%e5%8f%8a%e4%bc%9a%e9%81%87%e5%88%b0%e7%9a%84%e4%b8%80%e7%b3%bb%e5%88%97%e9%97%ae%e9%a2%98%ef%bc%88%e6%8c%81%e7%bb%ad%e6%9b%b4%e6%96%b0%ef%bc%89&amp;source=https%3a%2f%2f0ha.top%2fposts%2f130904547%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 一篇就够了——宝塔安装nextcloud以及一系列的软件（ocdownload，onlyoffice）安装,以及会遇到的一系列问题（持续更新） on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2f0ha.top%2fposts%2f130904547%2f&title=%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86%e2%80%94%e2%80%94%e5%ae%9d%e5%a1%94%e5%ae%89%e8%a3%85nextcloud%e4%bb%a5%e5%8f%8a%e4%b8%80%e7%b3%bb%e5%88%97%e7%9a%84%e8%bd%af%e4%bb%b6%ef%bc%88ocdownload%ef%bc%8conlyoffice%ef%bc%89%e5%ae%89%e8%a3%85%2c%e4%bb%a5%e5%8f%8a%e4%bc%9a%e9%81%87%e5%88%b0%e7%9a%84%e4%b8%80%e7%b3%bb%e5%88%97%e9%97%ae%e9%a2%98%ef%bc%88%e6%8c%81%e7%bb%ad%e6%9b%b4%e6%96%b0%ef%bc%89">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 一篇就够了——宝塔安装nextcloud以及一系列的软件（ocdownload，onlyoffice）安装,以及会遇到的一系列问题（持续更新） on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2f0ha.top%2fposts%2f130904547%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 一篇就够了——宝塔安装nextcloud以及一系列的软件（ocdownload，onlyoffice）安装,以及会遇到的一系列问题（持续更新） on whatsapp"
            href="https://api.whatsapp.com/send?text=%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86%e2%80%94%e2%80%94%e5%ae%9d%e5%a1%94%e5%ae%89%e8%a3%85nextcloud%e4%bb%a5%e5%8f%8a%e4%b8%80%e7%b3%bb%e5%88%97%e7%9a%84%e8%bd%af%e4%bb%b6%ef%bc%88ocdownload%ef%bc%8conlyoffice%ef%bc%89%e5%ae%89%e8%a3%85%2c%e4%bb%a5%e5%8f%8a%e4%bc%9a%e9%81%87%e5%88%b0%e7%9a%84%e4%b8%80%e7%b3%bb%e5%88%97%e9%97%ae%e9%a2%98%ef%bc%88%e6%8c%81%e7%bb%ad%e6%9b%b4%e6%96%b0%ef%bc%89%20-%20https%3a%2f%2f0ha.top%2fposts%2f130904547%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 一篇就够了——宝塔安装nextcloud以及一系列的软件（ocdownload，onlyoffice）安装,以及会遇到的一系列问题（持续更新） on telegram"
            href="https://telegram.me/share/url?text=%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86%e2%80%94%e2%80%94%e5%ae%9d%e5%a1%94%e5%ae%89%e8%a3%85nextcloud%e4%bb%a5%e5%8f%8a%e4%b8%80%e7%b3%bb%e5%88%97%e7%9a%84%e8%bd%af%e4%bb%b6%ef%bc%88ocdownload%ef%bc%8conlyoffice%ef%bc%89%e5%ae%89%e8%a3%85%2c%e4%bb%a5%e5%8f%8a%e4%bc%9a%e9%81%87%e5%88%b0%e7%9a%84%e4%b8%80%e7%b3%bb%e5%88%97%e9%97%ae%e9%a2%98%ef%bc%88%e6%8c%81%e7%bb%ad%e6%9b%b4%e6%96%b0%ef%bc%89&amp;url=https%3a%2f%2f0ha.top%2fposts%2f130904547%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share 一篇就够了——宝塔安装nextcloud以及一系列的软件（ocdownload，onlyoffice）安装,以及会遇到的一系列问题（持续更新） on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=%e4%b8%80%e7%af%87%e5%b0%b1%e5%a4%9f%e4%ba%86%e2%80%94%e2%80%94%e5%ae%9d%e5%a1%94%e5%ae%89%e8%a3%85nextcloud%e4%bb%a5%e5%8f%8a%e4%b8%80%e7%b3%bb%e5%88%97%e7%9a%84%e8%bd%af%e4%bb%b6%ef%bc%88ocdownload%ef%bc%8conlyoffice%ef%bc%89%e5%ae%89%e8%a3%85%2c%e4%bb%a5%e5%8f%8a%e4%bc%9a%e9%81%87%e5%88%b0%e7%9a%84%e4%b8%80%e7%b3%bb%e5%88%97%e9%97%ae%e9%a2%98%ef%bc%88%e6%8c%81%e7%bb%ad%e6%9b%b4%e6%96%b0%ef%bc%89&u=https%3a%2f%2f0ha.top%2fposts%2f130904547%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<p style="text-align: center;"><a href="https://beian.miit.gov.cn/">备案号：赣ICP备2023004523号-1</a></p>
<footer class="footer">
    <span>&copy; 2024 <a href="https://0ha.top/">木哈文轩</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>


</body>

</html>

<!doctype html>
<html lang="en-us">
  <head>
    <title>本地路由器封80与443但是可以用端口映射，所以用宝塔创建指定端口的网站 // 木哈文轩</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.123.3">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="木木em哈哈" />
    <meta name="description" content="文章浏览阅读964次。前几天发过一个博客。_宝塔映射端口" />
    <link rel="stylesheet" href="/css/main.min.a545955c4c2a15328ae3f208fda979c3a40146d5a6d4f95e0ab1a00e48cd1ff2.css" />
    

    
    <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="本地路由器封80与443但是可以用端口映射，所以用宝塔创建指定端口的网站"/>
<meta name="twitter:description" content="文章浏览阅读964次。前几天发过一个博客。_宝塔映射端口"/>

    <meta property="og:title" content="本地路由器封80与443但是可以用端口映射，所以用宝塔创建指定端口的网站" />
<meta property="og:description" content="文章浏览阅读964次。前几天发过一个博客。_宝塔映射端口" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://0ha.top/posts/130423372/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-21T13:44:45+00:00" />
<meta property="article:modified_time" content="2023-06-21T13:44:45+00:00" />



  </head>
  <body>
    <header class="app-header">
      <a href="https://0ha.top/"><img class="app-header-avatar" src="https://s3.bmp.ovh/imgs/2024/02/27/ebc3b3191cd37c75.jpg" alt="木木em哈哈" /></a>
      <span class="app-header-title">木哈文轩</span>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/">主页</a>
              ·  
          
          <a class="app-header-menu-item" href="/tags/">标签</a>
              ·  
          
          <a class="app-header-menu-item" href="/about/">有关</a>
      </nav>
      <p>别让我逮住嗷</p>
      <div class="app-header-social">
        
          <a href="https://blog.csdn.net/mumuemhaha" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-circle">
  <title>CSDN</title>
  <circle cx="12" cy="12" r="10"></circle>
</svg>
          </a>
        
          <a href="https://github.com/mumuhaha487" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>Github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">本地路由器封80与443但是可以用端口映射，所以用宝塔创建指定端口的网站</h1>
      <div class="post-meta">
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Jun 21, 2023
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          1 min read
        </div>
      </div>
    </header>
    <div class="post-content">
      <p><strong>目录</strong></p>
<p><a href="#%e5%89%8d%e5%9b%a0">前因</a></p>
<p><a href="#%e9%94%99%e8%af%af">错误</a></p>
<p><a href="#%e5%8e%9f%e5%9b%a0%e6%80%9d%e8%80%83">原因思考</a></p>
<p><a href="#%e6%95%99%e7%a8%8b">教程</a></p>
<p><a href="#%e8%ae%be%e7%bd%ae%e8%b7%af%e7%94%b1%e5%99%a8%e7%ab%af%e5%8f%a3%e6%98%a0%e5%b0%84">设置路由器端口映射</a></p>
<p><a href="#%e6%b3%a8%e6%84%8f">注意</a></p>
<h2 id="前因">前因</h2>
<p>前几天发过一个博客<a href="https://blog.csdn.net/mumuemhaha/article/details/130284390?spm=1001.2014.3001.5501" title="上一个链接">上一个链接<img src="https://csdnimg.cn/release/blog_editor_html/release2.2.5/ckeditor/plugins/CsdnLink/icons/icon-default.png?t=N3I4" alt="">https://blog.csdn.net/mumuemhaha/article/details/130284390?spm=1001.2014.3001.5501 ;</a></p>
<h2 id="错误">错误</h2>
<p>讲了80和443端口被封的问题</p>
<p>当时以为没有别的办法了，结果最近仔细一想</p>
<p>发现我指定端口访问不就行了</p>
<p>但是我宝塔添加站点的时候添加指定端口依旧无法从外网访问，然后我开始研究原因</p>
<p>我把原来的的80端口的给删除了创建了一个用8848的端口访问的网站</p>
<p>然后用我本机的ip（192.168.0.173）加8848访问</p>
<p><strong>成功！</strong>
然后我依旧在内网用公网ip加8848端口访问</p>
<p><strong>成功！</strong>
用外网时访问</p>
<p><strong>失败！</strong></p>
<h2 id="原因思考">原因思考</h2>
<p>很奇怪我明明设置了8848端口而且我搭建的青龙和宝塔都可以外网访问</p>
<p>然后我开始找原因：</p>
<p>这一会我什么端口都不指定直接用192.168.0.173进行访问</p>
<p>也成功了说明他现在用的是80端口，但是我没有添加80端口的域名</p>
<p>然后我猜测用其他端口访问，其实最终也是跳转到80端口的（然而外网80端口被封了导致访问不了）</p>
<p>那怎么整呢？</p>
<h2 id="教程">教程</h2>
<p><strong>上教程</strong></p>
<p>打开配置文件</p>
<p><img src="https://0ha.top/img/499ea5d5d3104624aed7e2d50fe620a7.png" alt=""></p>
<p>这个我已经改过了</p>
<p>原来是这个</p>
<pre tabindex="0"><code>    listen 80;
    server_name xxxx;
</code></pre><p>抱着试一试的心里</p>
<p>我把80端口改为5960端口</p>
<p>然后用本地ip地址访问</p>
<p><img src="https://0ha.top/img/0d3fc6f1a5d44f09945bc8f2f1983cb1.png" alt=""></p>
<p>啊？不行，是不是没重启nginx</p>
<p>重启后</p>
<p><img src="https://0ha.top/img/abad6c5aeb3b47f48934ba8376102f2c.png" alt=""></p>
<p>ok,跳转到我搭建的博客了</p>
<p>然后接下来就简单了</p>
<h2 id="设置路由器端口映射">设置路由器端口映射</h2>
<p>设置dmz主机或者端口映射（本地5960，外网5960）</p>
<p>就可以从外网通过ip访问了</p>
<p>如果 要绑定域名的话比较就要用ipv4解析然后加端口号</p>
<p>但是如果要图一个简单的话直接输入域名就可以访问的话</p>
<p>还可以设置解析到指定端口</p>
<p>或者设置url跳转</p>
<p>当然前提是域名还需要备案（为了防止做违法的事）</p>
<p>如果出什么问题或者留个言，解析到指定端口教程估计过几天做，现在备案不了，现在身份证不在旁边。</p>
<h2 id="注意">注意</h2>
<p>由于浏览器有缓存所以有时不成功记得把浏览器缓存给清理之后再次浏览</p>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
